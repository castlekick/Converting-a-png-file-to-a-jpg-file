import os
import shutil
from PIL import Image

# ğŸ“‚ ê²½ë¡œ ì„¤ì •
src_folder = r" "   # ì›ë³¸ í´ë”
dst_folder = r" "       # JPG ì €ì¥ í´ë”

# ğŸ“ ì €ì¥ í´ë”ê°€ ì—†ìœ¼ë©´ ìƒì„±
os.makedirs(dst_folder, exist_ok=True)

count_png = 0
count_jpg = 0

for filename in os.listdir(src_folder):
    src_path = os.path.join(src_folder, filename)

    # PNG â†’ JPG ë³€í™˜
    if filename.lower().endswith('.png'):
        new_filename = os.path.splitext(filename)[0] + ".jpg"
        dst_path = os.path.join(dst_folder, new_filename)

        try:
            with Image.open(src_path) as img:
                rgb_img = img.convert('RGB')
                rgb_img.save(dst_path, 'JPEG')
                count_png += 1
                print(f"[PNG ë³€í™˜] âœ… {new_filename}")
        except Exception as e:
            print(f"[PNG ì˜¤ë¥˜] âŒ {filename} â†’ {e}")

    # ê¸°ì¡´ JPG ë³µì‚¬
    elif filename.lower().endswith('.jpg') or filename.lower().endswith('.jpeg'):
        dst_path = os.path.join(dst_folder, filename)
        try:
            shutil.copy2(src_path, dst_path)
            count_jpg += 1
            print(f"[JPG ë³µì‚¬] âœ… {filename}")
        except Exception as e:
            print(f"[JPG ì˜¤ë¥˜] âŒ {filename} â†’ {e}")

print(f"\nğŸ‰ ë³€í™˜ ì™„ë£Œ: PNG â†’ JPG {count_png}ê°œ, ê¸°ì¡´ JPG ë³µì‚¬ {count_jpg}ê°œ")
